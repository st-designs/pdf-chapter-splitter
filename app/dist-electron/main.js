import{app as e,BrowserWindow as a}from"electron";import{fileURLToPath as d}from"url";import{dirname as l,join as i}from"path";import{existsSync as c}from"fs";var m=d(import.meta.url),t=l(m),s=process.env.NODE_ENV==="development"||!e.isPackaged;function r(){let o=new a({width:1200,height:800,minWidth:800,minHeight:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0,sandbox:!1},icon:s?i(t,"../Icons/PDF-chapter-split-icon.png"):void 0});if(s)o.loadURL("http://localhost:3000"),o.webContents.openDevTools();else{let n=i(t,"../dist/index.html");c(n)?o.loadFile(n):console.error("Index file not found:",n)}}e.whenReady().then(()=>{r(),e.on("activate",()=>{a.getAllWindows().length===0&&r()})});e.on("window-all-closed",()=>{process.platform!=="darwin"&&e.quit()});
